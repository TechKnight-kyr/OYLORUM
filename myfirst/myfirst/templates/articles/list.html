{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <title>–û–π–ª–æ—Ä—É–º</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f0f2f5;
            overflow-x: hidden;
        }

        .header {
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            height: 70px;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 40px;
            position: fixed;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .logo-text {
            color: white;
            font-size: 26px;
            font-weight: bold;
            text-decoration: none;
            letter-spacing: 1px;
        }

        .carcas {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .header a, .header button {
            text-decoration: none;
            font-weight: 600;
            border-radius: 10px;
            transition: 0.3s;
            border: none;
            cursor: pointer;
            padding: 10px 20px;
        }

        .addart { background-color: #28a745; color: white !important; }
        .addart:hover { background-color: #218838; }

        .profile-btn { background-color: rgba(255, 255, 255, 0.2); color: white; }
        .profile-btn:hover { background-color: #28a745; }

        .fonts { background-color: white; color: #0056b3; font-size: 14px; }
        .logout-btn { background: #ff4757; color: white; }

        .user-info { color: white; font-weight: bold; margin-right: 10px; }

       
        .main-container {
            display: flex;
            justify-content: space-between; 
            margin-top: 70px;
            width: 100%;
            min-height: calc(100vh - 70px);
        }
        
        .banner {
            width: 250px; 
            background: white;
            border-right: 1px solid #e1e8ed;
            border-left: 1px solid #e1e8ed;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 40px;
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            color: #95a5a6;
        }

        .banner-label {
            font-size: 11px;
            font-weight: bold;
            color: #bdc3c7;
            text-transform: uppercase;
            margin-bottom: 20px;
        }

      
        .articles-feed {
            flex: 1; 
            max-width: 1000px; 
            padding: 40px 30px;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .article-item {
            background: white;
            padding: 35px;
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            transition: 0.3s;
        }

        .article-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
        }

        .article-item h2 a {
            color: #2d3436;
            text-decoration: none;
            font-size: 26px;
            font-weight: 700;
        }

        .article_text {
            color: #636e72;
            line-height: 1.8;
            margin: 20px 0;
            font-size: 17px;
        }

        .pub-date {
            font-size: 14px;
            color: #b2bec3;
            display: flex;
            align-items: center;
            gap: 5px;
        }

 
        @media (max-width: 1300px) {
            .banner { width: 180px; }
        }

        @media (max-width: 1100px) {
            .banner { display: none; } 
            .articles-feed { max-width: 100%; }
        }
    </style>
</head>
<body>

<header class="header">
    <a href="/" class="logo-text">–û–ô–õ–û–†–£–ú</a>

    <div class="carcas">
        {% if user.is_authenticated %}
            <span class="user-info">{{ user.username }}</span>
            <a href="{% url 'articles:index' %}" class="addart">–°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç</a>
            <a href="{% url 'articles:profile' %}" class="profile-btn">–ü—Ä–æ—Ñ–∏–ª—å</a>
            <form action="{% url 'articles:logout' %}" method="post" style="display: inline;">
                {% csrf_token %}
                <button type="submit" class="logout-btn">–í—ã—Ö–æ–¥</button>
            </form>
        {% else %}
            <a href="{% url 'articles:login' %}" class="fonts">–õ–æ–≥–∏–Ω</a>
            <a href="{% url 'articles:registration' %}" class="fonts">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a> 
        {% endif %}
    </div>
</header>

<div class="main-container">
    <aside class="banner">
        <span class="banner-label">–ü–∞—Ä—Ç–Ω–µ—Ä—ã</span>
        <div style="border: 1px dashed #ddd; width: 80%; height: 400px; display: flex; align-items: center; justify-content: center; border-radius: 10px;">
            <p>–†–µ–∫–ª–∞–º–Ω—ã–π –±–ª–æ–∫</p>
        </div>
    </aside>

    <div class="articles-feed">
        {% for a in articles_list %}
            <article class="article-item">
                <h2><a href="{% url 'articles:detail' a.id %}">{{a.article_title}}</a></h2>
                <p class="article_text">{{a.article_text|truncatewords:50}}</p>
                <div class="pub-date">üìÖ {{a.pub_date|date:"d F Y"}}</div>
            </article>
        {% empty %}
            <div style="text-align: center; padding: 100px; background: white; border-radius: 20px;">
                <h3 style="color: #b2bec3;">–ü–æ–∫–∞ –∑–¥–µ—Å—å –Ω–µ—Ç –º—ã—Å–ª–µ–π... –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º!</h3>
            </div>
        {% endfor %}
    </div>

    <aside class="banner">
        <span class="banner-label">–°–ø–æ–Ω—Å–æ—Ä—ã</span>
        <div style="border: 1px dashed #ddd; width: 80%; height: 400px; display: flex; align-items: center; justify-content: center; border-radius: 10px;">
            <p>–†–µ–∫–ª–∞–º–Ω—ã–π –±–ª–æ–∫</p>
        </div>
    </aside>
</div>

</body>
</html>